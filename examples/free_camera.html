<!DOCTYPE html>
<html>
        <head>
                <title>Eris Free Camera Example</title>
				<link rel="stylesheet" href="style.css">
        </head>
        <body>
        <script type="module">
		import { Scene, GameObject, TriangleMesh, PlaneMesh, Color, StandardMaterial, Renderer, ErisConsole, PerspectiveCamera } from "./eris_index.js"
        import { vec3 } from './glMatrix/index.js'

		class Triangle extends GameObject {
			constructor(scene) {
				super(scene, new TriangleMesh(), new StandardMaterial())
			}

			onLoad() {
				ErisConsole.log("Triangle Loaded Successfully")
			}

			onUpdate(deltaTime) {
				this.rotation[1] += .1 * deltaTime
			}
		}

		class World extends Scene {
			constructor() {
				super()

                this.camera = new PerspectiveCamera(65.)
                this.ground = new GameObject(this, new PlaneMesh(), new StandardMaterial())
                this.triangle = new Triangle(this)

                this.triangle.material.setColor(new Color(1., 0., 0., 1.))
                this.ground.scale[0] = 2.
                this.ground.scale[2] = 2.
                this.ground.material.setColor(new Color(0., 1., 0., 1.))
                this.ground.position[1] -= 1.
                this.camera.position[2] = 3.

                this.setActiveCamera(this.camera)

				this.addObjects([ this.ground, this.triangle, this.camera ])	
			}

			onLoad() {
				ErisConsole.log("World Scene Loaded Successfully")
			}
		}
		
		Renderer.render(new World())
	</script>
        </body>
</html>
